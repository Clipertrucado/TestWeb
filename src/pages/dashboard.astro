---
import DashboardLayout from "@/components/layouts/DashboardLayout.astro";
import "@/styles/global.css";
import UserCard from "@/components/features/user/UserCard.astro";
import EncargosCard from "@/components/features/encargos/EncargosCard.astro";
import NuevaPreguntaForm from "@/components/features/preguntas/NuevaPreguntaForm.astro";
import PreguntasCard from "@/components/features/preguntas/PreguntasCard.astro";
---

<DashboardLayout>
  <script is:inline>
    if (!localStorage.getItem("token")) {
      window.location.href = "/login";
    }
  </script>

  <div class="grid grid-cols-1 lg:grid-cols-[1fr_2fr_1fr] gap-6">
  <!-- Columna izquierda -->
    <div class="space-y-6">
      <UserCard />
      <EncargosCard />
    </div>

    <!-- Columna central -->
    <NuevaPreguntaForm />

    <!-- Columna derecha -->
    <PreguntasCard />
  </div>
</DashboardLayout>
